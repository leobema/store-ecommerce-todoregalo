<div class="grid grid-flow-col p-2 gap-5 justify-center">
<div class="justify-center">
  <div>
    <div class="mx-auto max-w-2xl bg-black rounded mt-5 mb-3 py-4 px-4">
        <button>
            <img routerLink="/tienda" class="h-10 w-max " src="./../../../../assets/images/todoregalo-logo.png"/>
        </button>
    </div>

<form action="javascript:voi(0)" (submit)="send()" method="POST" class="mx-auto max-w-2xl mt-5 mb-20 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 py-4 px-2" [formGroup]="formularioCompra">
  <div class="space-y-12">
    <div class="border-b border-gray-900/10 pb-12">
      <h2 class="text-2xl font-semibold leading-7 text-gray-900">DATOS PERSONALES</h2>
      <p class="mt-1 text-sm leading-6 text-gray-600"><span class=" text-red-500 font-bold">*Importante: </span>Si recibe una persona diferente a usted, por favor rellenar los datos de quien recibe.</p>

      <div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
        <div class="sm:col-span-3">
          <label for="nombre" class="block text-sm font-medium leading-6 text-gray-900">Nombre</label>
          <div class="mt-2">
            <input type="text" name="Nombre" id="nombre" formControlName="nombre" autocomplete="given-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
          </div>
        </div>

        <div class="sm:col-span-3">
          <label for="apellido" class="block text-sm font-medium leading-6 text-gray-900">Apellido</label>
          <div class="mt-2">
            <input type="text" name="Apellido" id="apellido" formControlName="apellido" autocomplete="family-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
          </div>
        </div>

        <div class="sm:col-span-4">
          <label for="telf" class="block text-sm font-medium leading-6 text-gray-900">Teléfono</label>
          <div class="mt-2">
            <input id="telf" name="telf" type="tel" formControlName="telf" autocomplete="telf" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
          </div>
        </div>

        <div class="sm:col-span-3">
          <label for="email" class="block text-sm font-medium leading-6 text-gray-900">Email</label>
          <div class="mt-2">
            <input id="email" name="email" type="email" formControlName="email" autocomplete="email" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
          </div>
          <div class="flex h-6 items-center">
            <input id="emailNotification" name="emailNotification" type="checkbox" formControlName="emailNotification" class="mr-2 h-4 w-4 rounded border-gray-300">
                <div class="text-sm leading-6">
                    <label for="email-notification" class="font-base text-gray-900">Enviar datos de la compra a mi correo</label>
                </div>
          </div>
        </div>

       <!--  <div class="sm:col-span-3">
            <label for="email" class="block text-sm font-medium leading-6 text-gray-900">Repetir el Email</label>
            <div class="mt-2">
              <input id="email-repeat" name="email-repeat" type="email" autocomplete="email-repeat" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
            </div>
          </div> -->

        <div class="sm:col-span-4">
          <label for="provincia" class="block text-sm font-medium leading-6 text-gray-900">Provincia</label>
          <div class="mt-2">
            <select id="provincia" name="provincia" formControlName="provincia" autocomplete="Buenos Aires" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6">
              <option>Buenos Aires</option>
              <option>Buenos Aires Capital Federal</option>
              <option>Catamarca</option>
              <option>Chaco</option>
              <option>Chubut</option>
              <option>Córdoba</option>
              <option>Corrientes</option>
              <option>Entre Ríos</option>
              <option>Formosa</option>
              <option>Jujuy</option>
              <option>La Pampa</option>
              <option>La Rioja</option>
              <option>Mendoza</option>
              <option>Misiones</option>
              <option>Neuquen</option>
              <option>Río Negro</option>
              <option>Salta</option>
              <option>San Juan</option>
              <option>San Luís</option>
              <option>Santa Cruz</option>
              <option>Santa Fe</option>
              <option>Santiago del Estero</option>
              <option>Tierra del Fuego</option>
              <option>Tucumán</option>
            </select>
          </div>
        </div>

        <div class="col-span-full">
          <label for="direccion" class="block text-sm font-medium leading-6 text-gray-900">Dirección de envío</label>
          <div class="mt-2">
            <input type="text" name="direccion" id="direccion" formControlName="direccion" autocomplete="street-address" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
          </div>
        </div>

        <div class="sm:col-span-2 sm:col-start-1">
          <label for="ciudad" class="block text-sm font-medium leading-6 text-gray-900">Ciudad</label>
          <div class="mt-2">
            <input type="text" name="ciudad" id="ciudad" formControlName="ciudad" autocomplete="address-level2" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
          </div>
        </div>

        <div class="sm:col-span-2">
          <label for="localidad" class="block text-sm font-medium leading-6 text-gray-900">Localidad</label>
          <div class="mt-2">
            <input type="text" name="localidad" id="localidad" formControlName="localidad" autocomplete="address-level1" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
          </div>
        </div>

        <div class="sm:col-span-2">
          <label for="codigoPostal" class="block text-sm font-medium leading-6 text-gray-900">Codido Postal</label>
          <div class="mt-2">
            <input type="text" name="codigoPostal" id="codigoPostal" formControlName="codigoPostal" autocomplete="postal-code" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
          </div>
        </div>
        @for (item of cart(); track item; let i = $index) {
         <div class="hidden">
           <input type="text" name="productos" [ngModel]="item.product.title" id="productos" formControlName="productos"> 
            <input type="number" name="cantidad" [ngModel]="item.product.cant" id="cantidad" formControlName="cantidad">
        </div>
      }
        <div class="hidden">
            <input type="number" name="total" [ngModel]="total()" id="total" formControlName="total">
        </div>
      </div>
    </div>
</div>

    <div class="mt-6 flex items-center justify-end gap-x-6">
        <button type="button" routerLink="/tienda" class="text-sm font-semibold leading-6 text-gray-900">Cancel</button>
        <button value="submit" type="submit" [disabled]="!formularioCompra.valid" class="rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600">Realizar Pedido</button>
    </div>


    
</form>
</div>
</div>

<div class="mx-auto bg-gray-100 rounded mt-5 mb-5 py-4 px-4">
  <div>
    <p>Detalle del Pedido</p>
    <div>
      @for (item of cart(); track item; let i = $index) {
        <div>
          <div class="flex space-x2 items-center p-2 gap-2">
            <img class="w-12 h-12" [src]="item.product.images[0]" [alt]="item.product.title" >
            <h3 class="font-semibold">{{item.product.title}}</h3>
            <p>${{item.product.price}}</p>
            <svg
              class="h-3 w-3"
              fill="true"
              viewBox="0 0 24 24"
              stroke-width="0.75"
              stroke="black"
              aria-hidden="true">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719 5.719c.147.147.22.339.22.531 0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75 0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z"
                />
              </svg>
              <p class="font-semibold">{{item.cant}} </p>
            </div>
          </div>
        }
        <div class="py-1 text-xl">
          <hr />
          Total: ${{total()}}
        </div>
  </div>
</div>
</div>


